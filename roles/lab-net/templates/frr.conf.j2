router bgp {{ asn }}
  bgp router-id {{ public_ipv4 }}
  bgp bestpath as-path multipath-relax
  no bgp ebgp-requires-policy
  no bgp default ipv4-unicast

  neighbor PEER peer-group
  neighbor PEER remote-as external
  neighbor uplink interface v6only peer-group PEER

  address-family ipv4 unicast
    ! Announce specific route for our public IPv4
    network {{ public_ipv4 }}/32
    ! Annouce specific route for our NAT64 IPv4
    network {{ nat64_ipv4 }}/32

    neighbor PEER activate
  exit-address-family

  address-family ipv6 unicast
    ! Announce specific route for our public IPv6
    network {{ wg_gateway_v6 }}/128
    ! Annouce specific route for our NAT64 IPv6
    network {{ nat64_ipv6 }}/128
    ! Announce entire public IPv6 range used by APs
    network {{ global_ipv6_range_without_prefix }}::/{{ global_ipv6_range_prefix }}

    neighbor PEER activate
  exit-address-family
!
